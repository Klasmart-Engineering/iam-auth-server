name: CI Pipeline for PRs

on:
    push:
        branches-ignore:
            - '**'
    pull_request:
        branches:
            - '**'
    pull_request_target:
        branches-ignore:
            - '**'

    # Allows you to run this workflow manually from the Actions tab
    workflow_dispatch:

# A workflow run is made up of one or more jobs that can run sequentially or in parallel
jobs:
    build:
        runs-on: ubuntu-latest
        permissions: write-all

        steps:
            - uses: actions/checkout@v2
            - name: 'Check PR title format'
              uses: aslafy-z/conventional-pr-title-action@master
              with:
                  success-state: Title follows the specification.
                  failure-state: Title does not follow the specification.
                  context-name: conventional-pr-title
                  preset: conventional-changelog-angular@latest
              env:
                  GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
